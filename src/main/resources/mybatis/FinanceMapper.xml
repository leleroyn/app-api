<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ucs.ganzhou.app.api.mapper.FinanceMapper">
    <cache readOnly="true" flushInterval="10000" />

    <select id="getRecommendProduct" resultType="com.ucs.ganzhou.app.api.model.Finance">
            SELECT TOP 1
                    F.ProjectName AS projectName ,
                    F.InvestmentInterest /100.0 AS rate ,
                    F.Duration AS duration ,
                    F.Amount AS amount ,
                    F.ProjectBeginTime AS beginTime ,
                    F.MinInvestPartsCount AS minBuyAmount
            FROM   F_Financing F
            WHERE  ProjectStatus = 1
            ORDER BY CreateTime DESC
    </select>

    <select id="getOrderInfo" parameterType="com.ucs.ganzhou.app.api.model.OrderInfoRequestModel" resultType="com.ucs.ganzhou.app.api.model.OrderInfoResponseModel" useCache="false">
        SELECT O.CreateTime AS createTime ,
                O.PayAmount AS amount ,
                CASE ( O.PayStatus )
                  WHEN 1 THEN 1
                  WHEN 7 THEN -1
                  ELSE 0
                END AS orderStatus
        FROM   F_Investment_Order O
        LEFT JOIN [User] U ON O.PayUserId = U.UserId
        WHERE   U.BankUserId = #{customerId}  AND O.OrderNo = #{orderNo};
    </select>

    <select id="getCustomerAssets" parameterType="java.lang.String" resultType="java.util.Map" useCache="false">
        SELECT 50000 totalAmount,350.53 totalIncome, 60000 possessionAsset, 2000.25 frozenAmount
    </select>

</mapper>